import type { EntityManager, FindManyOptions, FindOneOptions, FindOptionsWhere } from 'typeorm';
import { User } from '../databases/entities/User';
import type { IUserSettings } from 'n8n-workflow';
import { UserRepository } from '../databases/repositories/user.repository';
import type { PublicUser } from '../Interfaces';
import type { PostHogClient } from '../posthog';
import { JwtService } from './jwt.service';
import { Logger } from '../Logger';
export declare class UserService {
    private readonly logger;
    private readonly userRepository;
    private readonly jwtService;
    constructor(logger: Logger, userRepository: UserRepository, jwtService: JwtService);
    findOne(options: FindOneOptions<User>): Promise<User | null>;
    findOneOrFail(options: FindOneOptions<User>): Promise<User>;
    findMany(options: FindManyOptions<User>): Promise<User[]>;
    findOneBy(options: FindOptionsWhere<User>): Promise<User | null>;
    create(data: Partial<User>): User;
    save(user: Partial<User>): Promise<Partial<User> & User>;
    update(userId: string, data: Partial<User>): Promise<import("typeorm").UpdateResult>;
    getByIds(transaction: EntityManager, ids: string[]): Promise<User[]>;
    getManager(): EntityManager;
    updateSettings(userId: string, newSettings: Partial<IUserSettings>): Promise<import("typeorm").UpdateResult>;
    generatePasswordResetToken(user: User, expiresIn?: string): string;
    generatePasswordResetUrl(user: User): string;
    resolvePasswordResetToken(token: string): Promise<User | undefined>;
    toPublic(user: User, options?: {
        withInviteUrl?: boolean;
        posthog?: PostHogClient;
    }): Promise<PublicUser>;
    private addInviteUrl;
    private addFeatureFlags;
}
