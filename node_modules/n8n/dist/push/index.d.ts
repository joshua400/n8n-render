/// <reference types="node" />
import { EventEmitter } from 'events';
import type { Server } from 'http';
import type { Application } from 'express';
import type { PushResponse, SSEPushRequest, WebSocketPushRequest } from './types';
import type { IPushDataType } from '../Interfaces';
import type { User } from '../databases/entities/User';
export declare class Push extends EventEmitter {
    isBidirectional: boolean;
    private backend;
    handleRequest(req: SSEPushRequest | WebSocketPushRequest, res: PushResponse): void;
    broadcast<D>(type: IPushDataType, data?: D): void;
    send<D>(type: IPushDataType, data: D, sessionId: string): void;
    sendToUsers<D>(type: IPushDataType, data: D, userIds: Array<User['id']>): void;
}
export declare const setupPushServer: (restEndpoint: string, server: Server, app: Application) => void;
export declare const setupPushHandler: (restEndpoint: string, app: Application) => void;
