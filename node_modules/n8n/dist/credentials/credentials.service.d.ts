import type { ICredentialDataDecryptedObject, ICredentialsDecrypted, INodeCredentialTestResult } from 'n8n-workflow';
import type { FindOptionsWhere } from 'typeorm';
import type { ICredentialsDb } from '../Interfaces';
import { CredentialsEntity } from '../databases/entities/CredentialsEntity';
import { SharedCredentials } from '../databases/entities/SharedCredentials';
import type { User } from '../databases/entities/User';
import type { CredentialRequest, ListQuery } from '../requests';
export declare class CredentialsService {
    static get(where: FindOptionsWhere<ICredentialsDb>, options?: {
        relations: string[];
    }): Promise<ICredentialsDb | null>;
    private static toFindManyOptions;
    private static addOwnedByAndSharedWith;
    static getMany(user: User, options?: {
        listQueryOptions?: ListQuery.Options;
        onlyOwn?: boolean;
    }): Promise<CredentialsEntity[]>;
    private static getAccessibleCredentials;
    static getManyByIds(ids: string[], { withSharings }?: {
        withSharings: boolean;
    }): Promise<CredentialsEntity[]>;
    static getSharing(user: User, credentialId: string, relations?: string[], { allowGlobalOwner }?: {
        allowGlobalOwner: boolean;
    }): Promise<SharedCredentials | null>;
    static prepareCreateData(data: CredentialRequest.CredentialProperties): Promise<CredentialsEntity>;
    static prepareUpdateData(data: CredentialRequest.CredentialProperties, decryptedData: ICredentialDataDecryptedObject): Promise<CredentialsEntity>;
    static createEncryptedData(credentialId: string | null, data: CredentialsEntity): ICredentialsDb;
    static decrypt(credential: CredentialsEntity): ICredentialDataDecryptedObject;
    static update(credentialId: string, newCredentialData: ICredentialsDb): Promise<ICredentialsDb | null>;
    static save(credential: CredentialsEntity, encryptedData: ICredentialsDb, user: User): Promise<CredentialsEntity>;
    static delete(credentials: CredentialsEntity): Promise<void>;
    static test(user: User, credentials: ICredentialsDecrypted): Promise<INodeCredentialTestResult>;
    static redact(data: ICredentialDataDecryptedObject, credential: CredentialsEntity): ICredentialDataDecryptedObject;
    private static unredactRestoreValues;
    static unredact(redactedData: ICredentialDataDecryptedObject, savedData: ICredentialDataDecryptedObject): ICredentialDataDecryptedObject;
}
