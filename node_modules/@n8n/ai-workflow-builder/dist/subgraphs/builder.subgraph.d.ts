import type { BaseChatModel } from '@langchain/core/language_models/chat_models';
import type { BaseMessage } from '@langchain/core/messages';
import type { Logger } from '@n8n/backend-common';
import type { INodeTypeDescription } from 'n8n-workflow';
import { BaseSubgraph } from './subgraph-interface';
import type { ParentGraphState } from '../parent-graph-state';
import type { CoordinationLogEntry } from '../types/coordination';
import type { DiscoveryContext } from '../types/discovery-types';
import type { SimpleWorkflow, WorkflowOperation } from '../types/workflow';
export declare const BuilderSubgraphState: import("@langchain/langgraph").AnnotationRoot<{
    workflowJSON: import("@langchain/langgraph").BinaryOperatorAggregate<SimpleWorkflow, SimpleWorkflow>;
    userRequest: import("@langchain/langgraph").BinaryOperatorAggregate<string, string>;
    workflowContext: import("@langchain/langgraph").BinaryOperatorAggregate<{
        executionSchema?: import("n8n-workflow").NodeExecutionSchema[];
        currentWorkflow?: Partial<import("n8n-workflow").IWorkflowBase>;
        executionData?: import("n8n-workflow").IRunExecutionData["resultData"];
        expressionValues?: Record<string, import("../workflow-builder-agent").ExpressionValue[]>;
    } | undefined, {
        executionSchema?: import("n8n-workflow").NodeExecutionSchema[];
        currentWorkflow?: Partial<import("n8n-workflow").IWorkflowBase>;
        executionData?: import("n8n-workflow").IRunExecutionData["resultData"];
        expressionValues?: Record<string, import("../workflow-builder-agent").ExpressionValue[]>;
    } | undefined>;
    discoveryContext: import("@langchain/langgraph").BinaryOperatorAggregate<DiscoveryContext | null, DiscoveryContext | null>;
    messages: import("@langchain/langgraph").BinaryOperatorAggregate<BaseMessage<import("@langchain/core/messages").MessageStructure, import("@langchain/core/messages").MessageType>[], BaseMessage<import("@langchain/core/messages").MessageStructure, import("@langchain/core/messages").MessageType>[]>;
    workflowOperations: import("@langchain/langgraph").BinaryOperatorAggregate<WorkflowOperation[] | null, WorkflowOperation[] | null>;
}>;
export interface BuilderSubgraphConfig {
    parsedNodeTypes: INodeTypeDescription[];
    llm: BaseChatModel;
    logger?: Logger;
}
export declare class BuilderSubgraph extends BaseSubgraph<BuilderSubgraphConfig, typeof BuilderSubgraphState.State, typeof ParentGraphState.State> {
    name: string;
    description: string;
    create(config: BuilderSubgraphConfig): import("@langchain/langgraph").CompiledStateGraph<{
        workflowJSON: SimpleWorkflow;
        userRequest: string;
        workflowContext: {
            executionSchema?: import("n8n-workflow").NodeExecutionSchema[];
            currentWorkflow?: Partial<import("n8n-workflow").IWorkflowBase>;
            executionData?: import("n8n-workflow").IRunExecutionData["resultData"];
            expressionValues?: Record<string, import("../workflow-builder-agent").ExpressionValue[]>;
        } | undefined;
        discoveryContext: DiscoveryContext | null;
        messages: BaseMessage<import("@langchain/core/messages").MessageStructure, import("@langchain/core/messages").MessageType>[];
        workflowOperations: WorkflowOperation[] | null;
    }, {
        workflowJSON?: SimpleWorkflow | undefined;
        userRequest?: string | undefined;
        workflowContext?: {
            executionSchema?: import("n8n-workflow").NodeExecutionSchema[];
            currentWorkflow?: Partial<import("n8n-workflow").IWorkflowBase>;
            executionData?: import("n8n-workflow").IRunExecutionData["resultData"];
            expressionValues?: Record<string, import("../workflow-builder-agent").ExpressionValue[]>;
        } | undefined;
        discoveryContext?: DiscoveryContext | null | undefined;
        messages?: BaseMessage<import("@langchain/core/messages").MessageStructure, import("@langchain/core/messages").MessageType>[] | undefined;
        workflowOperations?: WorkflowOperation[] | null | undefined;
    }, "agent" | "tools" | "process_operations" | "__start__", {
        workflowJSON: import("@langchain/langgraph").BinaryOperatorAggregate<SimpleWorkflow, SimpleWorkflow>;
        userRequest: import("@langchain/langgraph").BinaryOperatorAggregate<string, string>;
        workflowContext: import("@langchain/langgraph").BinaryOperatorAggregate<{
            executionSchema?: import("n8n-workflow").NodeExecutionSchema[];
            currentWorkflow?: Partial<import("n8n-workflow").IWorkflowBase>;
            executionData?: import("n8n-workflow").IRunExecutionData["resultData"];
            expressionValues?: Record<string, import("../workflow-builder-agent").ExpressionValue[]>;
        } | undefined, {
            executionSchema?: import("n8n-workflow").NodeExecutionSchema[];
            currentWorkflow?: Partial<import("n8n-workflow").IWorkflowBase>;
            executionData?: import("n8n-workflow").IRunExecutionData["resultData"];
            expressionValues?: Record<string, import("../workflow-builder-agent").ExpressionValue[]>;
        } | undefined>;
        discoveryContext: import("@langchain/langgraph").BinaryOperatorAggregate<DiscoveryContext | null, DiscoveryContext | null>;
        messages: import("@langchain/langgraph").BinaryOperatorAggregate<BaseMessage<import("@langchain/core/messages").MessageStructure, import("@langchain/core/messages").MessageType>[], BaseMessage<import("@langchain/core/messages").MessageStructure, import("@langchain/core/messages").MessageType>[]>;
        workflowOperations: import("@langchain/langgraph").BinaryOperatorAggregate<WorkflowOperation[] | null, WorkflowOperation[] | null>;
    }, {
        workflowJSON: import("@langchain/langgraph").BinaryOperatorAggregate<SimpleWorkflow, SimpleWorkflow>;
        userRequest: import("@langchain/langgraph").BinaryOperatorAggregate<string, string>;
        workflowContext: import("@langchain/langgraph").BinaryOperatorAggregate<{
            executionSchema?: import("n8n-workflow").NodeExecutionSchema[];
            currentWorkflow?: Partial<import("n8n-workflow").IWorkflowBase>;
            executionData?: import("n8n-workflow").IRunExecutionData["resultData"];
            expressionValues?: Record<string, import("../workflow-builder-agent").ExpressionValue[]>;
        } | undefined, {
            executionSchema?: import("n8n-workflow").NodeExecutionSchema[];
            currentWorkflow?: Partial<import("n8n-workflow").IWorkflowBase>;
            executionData?: import("n8n-workflow").IRunExecutionData["resultData"];
            expressionValues?: Record<string, import("../workflow-builder-agent").ExpressionValue[]>;
        } | undefined>;
        discoveryContext: import("@langchain/langgraph").BinaryOperatorAggregate<DiscoveryContext | null, DiscoveryContext | null>;
        messages: import("@langchain/langgraph").BinaryOperatorAggregate<BaseMessage<import("@langchain/core/messages").MessageStructure, import("@langchain/core/messages").MessageType>[], BaseMessage<import("@langchain/core/messages").MessageStructure, import("@langchain/core/messages").MessageType>[]>;
        workflowOperations: import("@langchain/langgraph").BinaryOperatorAggregate<WorkflowOperation[] | null, WorkflowOperation[] | null>;
    }, import("@langchain/langgraph").StateDefinition, {
        agent: {
            messages: import("@langchain/core/messages").AIMessageChunk<import("@langchain/core/messages").MessageStructure>[];
        };
        tools: {
            messages?: BaseMessage[];
            workflowOperations?: WorkflowOperation[] | null;
        };
    }, unknown, unknown>;
    transformInput(parentState: typeof ParentGraphState.State): {
        userRequest: string;
        workflowJSON: SimpleWorkflow;
        workflowContext: {
            executionSchema?: import("n8n-workflow").NodeExecutionSchema[];
            currentWorkflow?: Partial<import("n8n-workflow").IWorkflowBase>;
            executionData?: import("n8n-workflow").IRunExecutionData["resultData"];
            expressionValues?: Record<string, import("../workflow-builder-agent").ExpressionValue[]>;
        } | undefined;
        discoveryContext: DiscoveryContext | null;
        messages: import("@langchain/core/messages").HumanMessage<import("@langchain/core/messages").MessageStructure>[];
    };
    transformOutput(subgraphOutput: typeof BuilderSubgraphState.State, _parentState: typeof ParentGraphState.State): {
        workflowJSON: SimpleWorkflow;
        workflowOperations: WorkflowOperation[];
        coordinationLog: CoordinationLogEntry[];
    };
}
